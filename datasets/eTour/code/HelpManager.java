package unisa.gps.etour.gui;

import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.io.*;
import java.util.HashMap;
import java.util.Scanner;
import java.util.StringTokenizer;
import java.net.URISyntaxException;
import javax.swing.JComponent;
import javax.swing.text.JTextComponent;

/**
 * This class realizes the mechanism of sensitive help Context.
 *
 */
public class HelpManager extends MouseAdapter {
    private HashMap<String, String> dictionary;
    private JTextComponent destination;
    private String previousMessage;

    /**
     * <p>
     * The constructor creates a new instance of the class for the Managing the
     * online help files from contentente The guide itself and the component in
     * which it appear. 
     *
     * PPath 
     * @param String - the path of the help file.
     * 
     * @Param pComponent JTextComponent - the component in which to display Driving.
     * @Throws FileNotFoundException - if the help file is not specified Found.
     *
     */
    public HelpManager(String pPath, JTextComponent pComponent) throws FileNotFoundException {
        dictionary = new HashMap<String, String>();
        destination = pComponent;
        File afil = null;
        afil = new File(getClass().getResource(pPath).toString());
        Scanner scan = new Scanner(new BufferedReader(new FileReader(afil)));
        StringTokenizer tokenizer;
        while (scan.hasNext()) {
            tokenizer = new StringTokenizer(scan.nextLine(), "##");
            dictionary.put(tokenizer.nextToken(), tokenizer.nextToken());
        }

        scan.close();
    }

    /**
     * This method handles the event when the pointer should Mouse enters the
     * component.
     *
     * @Param pMouseEnteredEvent MouseEvent - The event generated by the mouse.
     *
     */
    public void mouseEntered(MouseEvent pMouseEnteredEvent) {
        previousMessage = destination.getText();
        JComponent component = (JComponent) pMouseEnteredEvent.getComponent();
        String help = dictionary.get(component.getName());
        destination.setText(help);
        destination.repaint();
    }
}